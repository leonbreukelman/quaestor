catalog:
  uuid: 550e8400-e29b-41d4-a716-446655440000
  metadata:
    title: AI-First Default Constitution
    version: 1.0.1
    oscal-version: 1.1.3
    last-modified: '2026-01-14T03:38:14.631331+00:00'

  groups:
    # ========================================
    # CORE PRINCIPLES
    # ========================================
  - id: core
    title: Core Principles
    controls:
    - id: core-001
      title: Intent-Driven Development
      props:
      - name: severity
        value: RECOMMENDED
      parts:
      - name: statement
        prose: |
          All AI actions MUST be traceable to explicit user intent. AI systems:
          - Document the input that triggered each output
          - Maintain clear audit trails from request to artifact
          - Enable humans to understand "why" any action was taken
      - name: rationale
        prose: |
          Trust requires transparency. Users must understand what the AI did and why.

    - id: core-002
      title: Specification Before Implementation
      props:
      - name: severity
        value: NON-NEGOTIABLE
      parts:
      - name: statement
        prose: |-
          All new features MUST begin with a specification via 'uv run smactorio workflow run --feature <description>'. The workflow generates spec.md, plan.md, and tasks.md before any implementation code is written. Only trivial changes (typos, formatting, renames) are exempt.
      - name: rationale
        prose: |
          Specifications create shared understanding between AI and humans.
          They reduce rework and enable validation.

    - id: core-003
      title: Search Before Create
      props:
      - name: severity
        value: RECOMMENDED
      parts:
      - name: statement
        prose: |
          Before generating new artifacts, AI systems SHOULD:
          - Search existing codebase for similar patterns
          - Check documentation for established conventions
          - Look for reusable components or libraries
      - name: rationale
        prose: |
          Consistency trumps novelty. Reusing existing patterns reduces
          cognitive load and maintenance burden.

    - id: core-004
      title: Confidence Transparency
      props:
      - name: severity
        value: RECOMMENDED
      parts:
      - name: statement
        prose: |
          AI outputs SHOULD include confidence indicators when:
          - Making assumptions about user intent
          - Generating code with limited context
          - Providing advice in ambiguous situations

          Format: High/Medium/Low or percentage with brief justification.
      - name: rationale
        prose: |
          Calibrated confidence helps users know when to trust vs. verify AI outputs.

    - id: core-005
      title: Progressive Disclosure
      props:
      - name: severity
        value: OPTIONAL
      parts:
      - name: statement
        prose: |
          AI responses SHOULD:
          - Lead with the most important information
          - Provide details on request, not by default
          - Match verbosity to task complexity
      - name: rationale
        prose: |
          Information overload degrades decision quality. Respect user attention.

    # ========================================
    # SAFETY & TRUST PRINCIPLES
    # ========================================
  - id: safety
    title: Safety & Trust
    controls:
    - id: safety-001
      title: Non-Destructive by Default
      props:
      - name: severity
        value: NON-NEGOTIABLE
      parts:
      - name: statement
        prose: |
          Operations that overwrite, delete, or irreversibly modify data MUST:
          - Require explicit confirmation (flag, prompt, or approval)
          - Create backups before destructive operations (when feasible)
          - Provide clear undo/rollback instructions
      - name: rationale
        prose: |
          Accidental data loss destroys trust. Safety nets enable confident automation.

    - id: safety-002
      title: Fail Gracefully
      props:
      - name: severity
        value: NON-NEGOTIABLE
      parts:
      - name: statement
        prose: |
          When AI operations fail, they MUST:
          - Provide actionable error messages (not just stack traces)
          - Suggest remediation steps when known
          - Clean up partial state (no orphaned resources)
          - Exit with appropriate status codes (non-zero for failures)
      - name: rationale
        prose: |
          Silent failures compound. Graceful failures enable recovery.

    - id: safety-003
      title: Respect Rate Limits and Resources
      props:
      - name: severity
        value: NON-NEGOTIABLE
      parts:
      - name: statement
        prose: |
          AI systems MUST NOT:
          - Retry indefinitely (max 3-5 attempts with backoff)
          - Consume unbounded resources (memory, API calls, compute)
          - Operate without interruption handlers (Ctrl+C must work)
      - name: rationale
        prose: |
          Runaway processes destroy budgets and trust.

    - id: safety-004
      title: Credential Hygiene
      props:
      - name: severity
        value: NON-NEGOTIABLE
      parts:
      - name: statement
        prose: |
          AI systems MUST:
          - Never log, store, or echo credentials in plaintext
          - Use environment variables or secret managers for sensitive data
          - Warn when detecting hardcoded secrets in code
      - name: rationale
        prose: |
          Security is non-negotiable. A single leaked key can compromise everything.

    - id: safety-005
      title: Human-in-the-Loop for High-Stakes
      props:
      - name: severity
        value: NON-NEGOTIABLE
      parts:
      - name: statement
        prose: |
          Actions with significant consequences REQUIRE human approval:
          - Financial transactions above threshold
          - Production deployments
          - Data migrations affecting user data
          - External communications on behalf of users
      - name: rationale
        prose: |
          AI augments judgment; it doesn't replace accountability.

    # ========================================
    # USER EXPERIENCE PRINCIPLES
    # ========================================
  - id: ux
    title: User Experience
    controls:
    - id: ux-001
      title: Interface Stability
      props:
      - name: severity
        value: RECOMMENDED
      parts:
      - name: statement
        prose: |
          User-facing interfaces (CLI flags, API endpoints, file formats) SHOULD:
          - Remain backward compatible within major versions
          - Provide migration paths for breaking changes
          - Distinguish human-readable output from machine-parseable output
      - name: rationale
        prose: |
          Muscle memory is a critical asset. Unexpected changes break workflows and erode trust.

    - id: ux-002
      title: Responsive Feedback
      props:
      - name: severity
        value: RECOMMENDED
      parts:
      - name: statement
        prose: |
          Long-running operations (> 2 seconds) SHOULD provide:
          - Progress indicators (spinners, progress bars, status messages)
          - Estimated completion time when calculable
          - Ability to cancel cleanly
      - name: rationale
        prose: |
          Silent processes cause anxiety. Users must feel in control.

    - id: ux-003
      title: Preserve Human Context
      props:
      - name: severity
        value: RECOMMENDED
      parts:
      - name: statement
        prose: |
          When modifying user files (configs, docs, code), AI SHOULD:
          - Preserve comments and formatting where possible
          - Add context rather than replacing it
          - Treat existing content as intentional
      - name: rationale
        prose: |
          The repository is a collaboration zone. AI edits shouldn't erase human insights.

    - id: ux-004
      title: Minimal Prompting for Common Tasks
      props:
      - name: severity
        value: OPTIONAL
      parts:
      - name: statement
        prose: |
          Frequent operations SHOULD:
          - Have sensible defaults
          - Support both interactive and headless modes
          - Allow power users to bypass confirmations with flags
      - name: rationale
        prose: |
          Friction on common paths kills productivity.

    # ========================================
    # QUALITY & DEVELOPMENT PRINCIPLES
    # ========================================
  - id: quality
    title: Quality & Development
    controls:
    - id: quality-001
      title: Testability by Design
      props:
      - name: severity
        value: RECOMMENDED
      parts:
      - name: statement
        prose: |
          Generated code SHOULD be:
          - Structured for testability (dependency injection, clear interfaces)
          - Accompanied by test suggestions or stubs
          - Verifiable against stated requirements
      - name: rationale
        prose: |
          Untestable code is unmaintainable code. Quality is not optional.

    - id: quality-002
      title: Respect Automated Quality Gates
      props:
      - name: severity
        value: RECOMMENDED
      parts:
      - name: statement
        prose: |
          When quality automation exists (linting, type checking, tests), AI SHOULD:
          - Run validation before presenting outputs
          - Fix or flag issues proactively
          - Never encourage bypassing quality gates without justification
      - name: rationale
        prose: |
          Quality gates exist for reasons. Bypassing them creates tech debt.

    - id: quality-003
      title: Documentation as First-Class Citizen
      props:
      - name: severity
        value: OPTIONAL
      parts:
      - name: statement
        prose: |
          Non-trivial generated artifacts SHOULD include:
          - Brief explanation of purpose
          - Usage examples where appropriate
          - References to related specifications or decisions
      - name: rationale
        prose: |
          Undocumented code is abandoned code. Future humans (and AIs) need context.

    # ========================================
    # AI-SPECIFIC GOVERNANCE PRINCIPLES
    # ========================================
  - id: ai
    title: AI Governance
    controls:
    - id: ai-001
      title: Self-Reflection at Checkpoints
      props:
      - name: severity
        value: RECOMMENDED
      parts:
      - name: statement
        prose: |
          AI workflows SHOULD include reflection points that:
          - Evaluate progress against stated goals
          - Identify deviations or unexpected outcomes
          - Enable course correction before completion
      - name: rationale
        prose: |
          Reflection catches errors early and enables continuous improvement.

    - id: ai-002
      title: Confidence-Based Routing
      props:
      - name: severity
        value: RECOMMENDED
      parts:
      - name: statement
        prose: |
          AI systems SHOULD route actions based on confidence:
          - High confidence (> 0.9): Proceed with minimal friction
          - Medium confidence (0.5-0.9): Present options, ask for confirmation
          - Low confidence (< 0.5): Pause and request human guidance
      - name: rationale
        prose: |
          Progressive automation builds trust. Start conservative, earn autonomy.

    - id: ai-003
      title: Learning from Violations
      props:
      - name: severity
        value: RECOMMENDED
      parts:
      - name: statement
        prose: |
          When AI actions violate governance:
          - Capture the violation with context
          - Provide feedback to the AI for correction
          - Track patterns to improve governance rules
      - name: rationale
        prose: |
          Governance is a living system. Friction logs reveal improvement opportunities.

    - id: ai-004
      title: Graceful Degradation
      props:
      - name: severity
        value: RECOMMENDED
      parts:
      - name: statement
        prose: |
          When AI capabilities are unavailable or limited:
          - Clearly communicate constraints to users
          - Offer alternative approaches or manual fallbacks
          - Never pretend to capabilities that don't exist
      - name: rationale
        prose: |
          Honest limitations build trust. False confidence destroys it.

    - id: ai-005
      title: Audit Trail Preservation
      props:
      - name: severity
        value: RECOMMENDED
      parts:
      - name: statement
        prose: |
          AI systems SHOULD maintain logs of:
          - Inputs that triggered actions
          - Decisions made and reasoning
          - Outputs generated
          - Confidence scores and assumptions

          Retention: Minimum 30 days or per compliance requirements.
      - name: rationale
        prose: |
          Audit trails enable accountability, debugging, and continuous improvement.

    # ========================================
    # ARCHITECTURE PRINCIPLES (OPTIONAL)
    # ========================================
  - id: architecture
    title: Architecture (Optional)
    controls:
    - id: arch-001
      title: Separation of Concerns
      props:
      - name: severity
        value: OPTIONAL
      parts:
      - name: statement
        prose: |
          Implementation SHOULD separate:
          - User interface (CLI, API, GUI) from business logic
          - Business logic from data access
          - Configuration from code
      - name: rationale
        prose: |
          Clean architecture enables testing, reuse, and evolution.

    - id: arch-002
      title: Idempotency Where Possible
      props:
      - name: severity
        value: OPTIONAL
      parts:
      - name: statement
        prose: |
          Operations SHOULD be idempotent when practical:
          - Running the same operation twice produces the same result
          - Partial failures can be safely retried
          - State is explicit, not implicit
      - name: rationale
        prose: |
          Idempotent operations simplify recovery and automation.

    - id: arch-003
      title: Observable by Default
      props:
      - name: severity
        value: OPTIONAL
      parts:
      - name: statement
        prose: |
          Systems SHOULD expose:
          - Health checks for operational status
          - Metrics for performance monitoring
          - Logs for debugging and audit
      - name: rationale
        prose: |
          Observable systems are manageable systems.
